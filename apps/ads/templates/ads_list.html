{% extends "base.html" %}
{% load static %}
{% block content %}
<style>
  @media (max-width: 575px) {
    .table td, .table th {
        font-size: 12px;
        word-break: break-word;
    }
  }
  /* Optional: Add custom styles for smaller screens */
  @media (max-width: 768px) {
    .table td, .table th {
      white-space: nowrap;
    }
  }
</style>

<body>
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
      <div class="layout-container">
        <!-- Menu -->
        {% include 'aside.html'%}
        <!-- / Menu -->

        <!-- Layout container -->
        <div class="layout-page">
          <!-- Navbar -->
         {% include 'nav.html'%}
          <!-- / Navbar -->

          <!-- Content wrapper -->
          <div class="content-wrapper">
            <!-- Content -->
            <div class="container-xxl flex-grow-1 container-p-y">
              <div class="row">
                <div class="col-lg-12 mb-4 order-0">
                  <div class="card">
                    <div class="d-flex align-items-end row">
                      <div class="col-sm-7">
                        <div class="card-body">
                          <h3 class="card-title text-primary">Welcome to +Rover Ad Zone ðŸŽ‰</h3>
                          <p class="mb-4">
                            Create your advertisement below and watch them light up our screen in no time.
                          </p>
                          <a href="{% url 'create_ad'%}" class="btn btn-md btn-outline-primary">Create Ad</a>
                        </div>
                      </div>
                      <div class="col-sm-5 text-center text-sm-left">
                        <div class="card-body pb-0 px-0 px-md-4">
                          <img
                            src="{% static 'img/illustrations/man-with-laptop-light.png'%}"
                            height="140"
                            alt="View Badge User"
                            data-app-dark-img="illustrations/man-with-laptop-dark.png"
                            data-app-light-img="illustrations/man-with-laptop-light.png" />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-lg-12 mb-4 order-0">
                  <div class="card">
                    <div class="d-flex align-items-end row">
                      <div class="col-sm-12">
                        <div class="card-body">
                          <h3 class="card-title text-primary">Your Ad list</h3>
                          <div class="table-responsive"> <!-- Use table-responsive to handle responsiveness -->
                            {% if ads %}
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>S.No</th>
                                        <th>Title</th>
                                        <th>Type</th>
                                        <th>Duration</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody class="table-border-bottom-0">
                                    {% for ad in ads %}
                                    <tr>
                                        <td><span class="fw-medium">{{ forloop.counter }}</span></td>
                                        <td>{{ ad.title }}</td>
                                        <td>{{ ad.get_ad_type_display }}</td>
                                        <td>{{ ad.duration }}</td>
                                        <td><span class="badge bg-label-primary me-1">Active</span></td>
                                        <td>
                                            <div class="dropdown">
                                                <button type="button" class="btn p-0 dropdown-toggle hide-arrow" data-bs-toggle="dropdown">
                                                    <i class="bx bx-dots-vertical-rounded"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:void(0);"><i class="bx bx-edit-alt me-1"></i> Edit</a>
                                                    <a class="dropdown-item" href="javascript:void(0);"><i class="bx bx-trash me-1"></i> Delete</a>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                            {% else %}
                            <h3 class="card-title text-primary">Sorry we couldn't find any Ads</h3>
                            {% endif %}
                        </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
            </div>
            <!-- / Content -->

            <!-- Footer -->
            {% include 'footer.html'%}
            <!-- / Footer -->

            <div class="content-backdrop fade"></div>
          </div>
          <!-- Content wrapper -->
        </div>
        <!-- / Layout page -->
      </div>

      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle"></div>
    </div>
    <!-- / Layout wrapper -->

    {% include 'script.html'%}
  </body>
{% endblock %}
